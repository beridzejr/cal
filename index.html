<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macro Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <h1 class="my-4">Macro Tracker</h1>

    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label class="form-label">Entry Type:</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="entryType" id="weightEntry" value="weight" checked>
                    <label class="form-check-label" for="weightEntry">
                        Weight-based Entry
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="entryType" id="directEntry" value="direct">
                    <label class="form-check-label" for="directEntry">
                        Direct Entry
                    </label>
                </div>
            </div>

            <div id="weightInputs" class="mb-3">
                <label for="foodWeight" class="form-label">Weight (g):</label>
                <input type="number" class="form-control" id="foodWeight">
                <label for="foodKcal" class="form-label">Calories (per 100g):</label>
                <input type="number" class="form-control" id="foodKcal">
                <label for="foodProtein" class="form-label">Protein (per 100g):</label>
                <input type="number" class="form-control" id="foodProtein">
                <label for="foodCarbs" class="form-label">Carbs (per 100g):</label>
                <input type="number" class="form-control" id="foodCarbs">
                <label for="foodFat" class="form-label">Fat (per 100g):</label>
                <input type="number" class="form-control" id="foodFat">
            </div>

            <div id="directInputs" class="mb-3" style="display: none;">
                <label for="directKcal" class="form-label">Calories:</label>
                <input type="number" class="form-control" id="directKcal">
                <label for="directProtein" class="form-label">Protein (g):</label>
                <input type="number" class="form-control" id="directProtein">
                <label for="directCarbs" class="form-label">Carbs (g):</label>
                <input type="number" class="form-control" id="directCarbs">
                <label for="directFat" class="form-label">Fat (g):</label>
                <input type="number" class="form-control" id="directFat">
            </div>

            <button id="addButton" class="btn btn-primary">Add</button>
            <button id="resetButton" class="btn btn-secondary">Reset Totals</button>

            <div class="mt-4">
                <h3>Goals</h3>
                <p>Calories: <span id="goalCalories">2650</span> kcal</p>
                <p>Protein: <span id="goalProtein">194</span>g</p>
                <p>Carbs: <span id="goalCarbs">288</span>g</p>
                <p>Fat: <span id="goalFat">80</span>g</p>
            </div>
        </div>

        <div class="col-md-6">
            <h3>Totals</h3>
            <p>Calories: <span id="totalCalories">0</span> / <span id="goalCaloriesDisplay">2650</span> kcal</p>
            <p>Protein: <span id="totalProtein">0</span>g / <span id="goalProteinDisplay">194</span>g</p>
            <p>Carbs: <span id="totalCarbs">0</span>g / <span id="goalCarbsDisplay">288</span>g</p>
            <p>Fat: <span id="totalFat">0</span>g / <span id="goalFatDisplay">80</span>g</p>
        </div>
    </div>

    <h2 class="my-4">Food Log</h2>
    <div class="mb-3">
        <label for="dateFilter" class="form-label">Filter by Date:</label>
        <input type="date" class="form-control" id="dateFilter">
    </div>
    <div class="card-container" id="cardContainer">
    </div>
</div>

<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Edit Food Entry</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="editForm">
                    <div class="mb-3">
                        <label for="editDate" class="form-label">Date</label>
                        <input type="date" class="form-control" id="editDate" required>
                    </div>
                    <div class="mb-3">
                        <label for="editWeight" class="form-label">Weight (g) - Leave blank for direct entry</label>
                        <input type="number" class="form-control" id="editWeight">
                    </div>
                    <div class="mb-3">
                        <label for="editKcal" class="form-label">Calories (kcal)</label>
                        <input type="number" class="form-control" id="editKcal" required>
                    </div>
                    <div class="mb-3">
                        <label for="editProtein" class="form-label">Protein (g)</label>
                        <input type="number" class="form-control" id="editProtein" required>
                    </div>
                    <div class="mb-3">
                        <label for="editCarbs" class="form-label">Carbs (g)</label>
                        <input type="number" class="form-control" id="editCarbs" required>
                    </div>
                    <div class="mb-3">
                        <label for="editFat" class="form-label">Fat (g)</label>
                        <input type="number" class="form-control" id="editFat" required>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="editIsDirect">
                        <label class="form-check-label" for="editIsDirect">Direct Entry?</label>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="saveEditButton">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="script.js"></script>
</body>
</html>